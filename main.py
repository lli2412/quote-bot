import telebot
import random
import os

# –ü–æ–ª—É—á–∞–µ–º —Ç–æ–∫–µ–Ω –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è (–Ω–∞ Render –∑–∞–¥–∞–¥–∏–º –µ–≥–æ –ø–æ–∑–∂–µ)
TOKEN = os.environ.get('TELEGRAM_TOKEN')
if not TOKEN:
    raise ValueError("–¢–æ–∫–µ–Ω –Ω–µ –∑–∞–¥–∞–Ω! –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ TELEGRAM_TOKEN –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Render.")

bot = telebot.TeleBot(TOKEN)

# –¶–∏—Ç–∞—Ç—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
QUOTES = {
    "all": [
        "–í–µ—Ä—å –≤ —Å–µ–±—è ‚Äî –æ—Å—Ç–∞–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–∏—Ç—Å—è.",
        "–¢—ã —Å–∏–ª—å–Ω–µ–µ, —á–µ–º –¥—É–º–∞–µ—à—å.",
        "–ú–∞–ª–µ–Ω—å–∫–∏–π —à–∞–≥ ‚Äî –≤—Å—ë —Ä–∞–≤–Ω–æ —à–∞–≥ –≤–ø–µ—Ä—ë–¥."
    ],
    "–º–æ—Ç–∏–≤–∞—Ü–∏—è": [
        "–£—Å–ø–µ—Ö ‚Äî —ç—Ç–æ 1% —Ç–∞–ª–∞–Ω—Ç–∞ –∏ 99% —Ç—Ä—É–¥–∞.",
        "–ù–µ –∂–¥–∏ –∏–¥–µ–∞–ª—å–Ω–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞ ‚Äî –Ω–∞—á–Ω–∏ —Å–µ–π—á–∞—Å."
    ],
    "–ø–æ—Å–ª–æ–≤–∏—Ü–∞": [
        "–î–µ–ª—É ‚Äî –≤—Ä–µ–º—è, –ø–æ—Ç–µ—Ö–µ ‚Äî —á–∞—Å.",
        "–ß—Ç–æ –ø–æ—Å–µ–µ—à—å, —Ç–æ –∏ –ø–æ–∂–Ω—ë—à—å.",
        "–ë–µ–∑ —Ç—Ä—É–¥–∞ –Ω–µ –≤—ã—Ç–∞—â–∏—à—å –∏ —Ä—ã–±–∫—É –∏–∑ –ø—Ä—É–¥–∞."
    ],
    "—Ñ–∏–ª–æ—Å–æ—Ñ–∏—è": [
        "–ü–æ–∑–Ω–∞–π —Å–∞–º–æ–≥–æ —Å–µ–±—è. ‚Äî –°–æ–∫—Ä–∞—Ç",
        "–ñ–∏–∑–Ω—å ‚Äî —ç—Ç–æ —Ç–æ, —á—Ç–æ —Å —Ç–æ–±–æ–π –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –ø–æ–∫–∞ —Ç—ã —Å—Ç—Ä–æ–∏—à—å –ø–ª–∞–Ω—ã. ‚Äî –î–∂–æ–Ω –õ–µ–Ω–Ω–æ–Ω"
    ],
    "—é–º–æ—Ä": [
        "–Ø –Ω–µ –ª–µ–Ω–∏–≤—ã–π, —è —ç–Ω–µ—Ä–≥–æ—Å–±–µ—Ä–µ–≥–∞—é—â–∏–π.",
        "–£ –º–µ–Ω—è –≤—Å—ë —Ö–æ—Ä–æ—à–æ‚Ä¶ –ø–æ–∫–∞ –Ω–∏–∫—Ç–æ –Ω–µ —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç."
    ]
}

@bot.message_handler(commands=['start'])
def send_welcome(message):
    bot.reply_to(message, 
        "–ü—Ä–∏–≤–µ—Ç! üí¨ –Ø ‚Äî –±–æ—Ç –º—É–¥—Ä–æ—Å—Ç–∏.\n\n"
        "–ö–æ–º–∞–Ω–¥—ã:\n"
        "/quote ‚Äî —Å–ª—É—á–∞–π–Ω–∞—è —Ü–∏—Ç–∞—Ç–∞\n"
        "/–º–æ—Ç–∏–≤–∞—Ü–∏—è ‚Äî –º–æ—Ç–∏–≤–∏—Ä—É—é—â–∞—è —Ñ—Ä–∞–∑–∞\n"
        "/–ø–æ—Å–ª–æ–≤–∏—Ü–∞ ‚Äî —Ä—É—Å—Å–∫–∞—è –º—É–¥—Ä–æ—Å—Ç—å\n"
        "/—Ñ–∏–ª–æ—Å–æ—Ñ–∏—è ‚Äî –º—ã—Å–ª–∏ –≤–µ–ª–∏–∫–∏—Ö\n"
        "/—é–º–æ—Ä ‚Äî —É–ª—ã–±–Ω–∏—Å—å üòä"
    )

@bot.message_handler(commands=['quote'])
def send_random_quote(message):
    quote = random.choice(QUOTES["all"])
    bot.send_message(message.chat.id, f"‚ú® {quote}")

@bot.message_handler(commands=['–º–æ—Ç–∏–≤–∞—Ü–∏—è', '–ø–æ—Å–ª–æ–≤–∏—Ü–∞', '—Ñ–∏–ª–æ—Å–æ—Ñ–∏—è', '—é–º–æ—Ä'])
def send_category_quote(message):
    cmd = message.text.replace("/", "")
    if cmd in QUOTES:
        quote = random.choice(QUOTES[cmd])
        bot.send_message(message.chat.id, f"üí≠ {quote}\n\nüìö –ö–∞—Ç–µ–≥–æ—Ä–∏—è: {cmd}")
    else:
        bot.send_message(message.chat.id, "–ù–µ –∑–Ω–∞—é —Ç–∞–∫–æ–π –∫–æ–º–∞–Ω–¥—ã. –ù–∞–ø–∏—à–∏ /start.")

# –ó–∞–ø—É—Å–∫
if __name__ == '__main__':
    bot.infinity_polling()
